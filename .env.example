# ===========================================
# Autonomous Blog Generator - Environment Variables
# ===========================================
# Copy this file to .env and fill in your values

# Anthropic API Key (required)
# Get from: https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-xxxxxxxxxxxxx

# Supabase Configuration (required)
# Get from: Supabase Dashboard > Settings > API
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.xxxxx

# Default Author Slug (required)
# The slug of the author to use for AI-generated posts
DEFAULT_AUTHOR_SLUG=valiance-media

# Model Configuration (optional)
# claude-sonnet-4-5-20250929for best cost/quality
CLAUDE_MODEL=claude-sonnet-4-5-20250929

# Generation Settings (optional)
MAX_TURNS=15
DEFAULT_STATUS=draft

# Number of blog posts to generate per autonomous run
BLOGS_PER_RUN=1

# ===========================================
# Niche-Specific Content
# ===========================================
# Path to niche-specific prompt file (relative to project root)
# This adds domain expertise, terminology, and quality standards
# Default: "prompts/niche/golf.md" (golf content)
#
# To customize for your niche:
# 1. Copy prompts/niche/golf.md to prompts/niche/{your-niche}.md
# 2. Replace golf content with your domain expertise
# 3. Update this path to point to your file
#
# Set to empty string for generic content generation (no niche)
NICHE_PROMPT_PATH=prompts/niche/golf.md

# ===========================================
# Category Configuration
# ===========================================
# Whether Claude can create new categories (default: false)
# When false, Claude must use existing categories from blog_categories table
ALLOW_NEW_CATEGORIES=false

# Fallback category if no existing category fits well
# This category must exist in your blog_categories table
DEFAULT_CATEGORY_SLUG=general

# ===========================================
# Image Generation (Nano Banana / Gemini)
# ===========================================
# Enable featured image generation (default: false)
ENABLE_IMAGE_GENERATION=false

# Google AI API Key (required if image generation is enabled)
# Get from: https://aistudio.google.com/apikey
GEMINI_API_KEY=your-gemini-api-key

# Gemini Model (optional)
# Options: gemini-2.5-flash-preview-image-generation, gemini-3-pro-image
GEMINI_MODEL=gemini-3-pro-image

# Image Settings (optional - these are the defaults)
IMAGE_ASPECT_RATIO=21:9
IMAGE_QUALITY=85
IMAGE_WIDTH=1600

# Supabase Storage bucket for images (optional)
# Must be created in Supabase Dashboard > Storage
SUPABASE_STORAGE_BUCKET=blog-images

# Image context for your niche (optional but recommended)
# Describes the theme/setting for generated images to match your brand
# This text is added to all image prompts for consistent visual style
#
# Examples by niche:
#   Golf: "golf course, outdoor sports, sunny day, natural settings"
#   Tech: "modern office, technology, professional environment"
#   Food: "kitchen, food photography, warm lighting, rustic"
IMAGE_CONTEXT=golf course, outdoor sports, sunny day, natural settings

# Style prefix for image generation (optional)
# This text is prepended to all image prompts for consistent quality
# Default includes "no text" to prevent Gemini from adding text overlays
# IMAGE_STYLE_PREFIX=Professional photograph, ultra realistic, high quality DSLR photography, natural lighting, sharp focus, detailed textures,

# ===========================================
# Link Building (Optional)
# ===========================================
# Enable internal link suggestions and tracking
# Links are automatically extracted and stored for analytics
ENABLE_LINK_BUILDING=true

# URL pattern for internal links (uses {slug} and {category} placeholders)
# Examples:
#   /blog/{slug}              - Simple blog URLs
#   /blog/{category}/{slug}   - Category-prefixed URLs
#   /blogs/news/{slug}        - Shopify-style URLs
INTERNAL_LINK_PATTERN=/blog/{slug}

# URL validation timeout in milliseconds (optional)
LINK_VALIDATION_TIMEOUT=5000

# Maximum link suggestions to return (optional)
LINK_SUGGESTIONS_LIMIT=8

# ===========================================
# Shopify Sync (Optional)
# ===========================================
# Enable this to sync posts to Shopify. Posts sync based on status:
# - draft/archived → Hidden in Shopify
# - published → Visible in Shopify
# - scheduled → Scheduled in Shopify

# Enable Shopify sync
ENABLE_SHOPIFY_SYNC=false

# Your Shopify store name (the part before .myshopify.com)
# Example: If your store is my-store.myshopify.com, use "my-store"
SHOPIFY_STORE=your-store-name

# Shopify OAuth Credentials (from Dev Dashboard)
# Get these from: https://developers.shopify.com → Dev Dashboard → Your App → Settings
#
# Steps to create an app in Dev Dashboard:
# 1. Go to https://developers.shopify.com and sign in
# 2. Click "Apps" in the sidebar, then "Create app"
# 3. Choose "Build app for users in your organization"
# 4. Name your app (e.g., "Blog Sync") and create it
# 5. Go to "Configuration" → "API access" and add scopes: read_content, write_content
# 6. Go to "Distribution" and install the app on your store
# 7. Go to "Settings" to find your Client ID and Client Secret
#
# Required scopes: read_content, write_content
SHOPIFY_CLIENT_ID=your-client-id
SHOPIFY_CLIENT_SECRET=your-client-secret

# Shopify Admin API version (optional)
SHOPIFY_API_VERSION=2025-01

# Default author name for Shopify articles
# This is a display name, not a Shopify user account
SHOPIFY_DEFAULT_AUTHOR=Staff Writer

# Auto-sync posts to Shopify when they're saved
# Set to false if you prefer manual sync via CLI
SHOPIFY_SYNC_ON_PUBLISH=true

# ===========================================
# WordPress Sync (Optional)
# ===========================================
# Enable WordPress sync to push posts from Supabase to WordPress.
# Can be enabled alongside Shopify sync - both are independent.
# Posts sync based on status:
# - draft/archived → Draft/Private in WordPress
# - published → Published in WordPress
# - scheduled → Scheduled in WordPress

# Enable WordPress sync
ENABLE_WORDPRESS_SYNC=false

# WordPress site URL (no trailing slash)
# Example: https://yourdomain.com
WORDPRESS_URL=https://yoursite.com

# WordPress Application Password credentials
# Create at: WP Admin → Users → Your Profile → Application Passwords
# Click "Add New Application Password", name it (e.g., "Blog Generator"), and copy the password
# The password will look like: xxxx xxxx xxxx xxxx xxxx xxxx (with spaces)
WORDPRESS_USERNAME=your-username
WORDPRESS_APP_PASSWORD=xxxx xxxx xxxx xxxx xxxx xxxx

# Default WordPress author ID (WordPress user ID, typically 1 for admin)
# Find your user ID: WP Admin → Users → hover over username to see ID in URL
WORDPRESS_DEFAULT_AUTHOR_ID=1

# Auto-sync posts to WordPress when they're saved
# Set to false if you prefer manual sync via CLI
WORDPRESS_SYNC_ON_PUBLISH=true

# SEO plugin for WordPress meta fields
# Determines which meta keys are populated for SEO data
# Options: yoast, rankmath, aioseo, seopress, flavor, none
# - yoast: Yoast SEO (most popular)
# - rankmath: RankMath SEO
# - aioseo: All in One SEO
# - seopress: SEOPress
# - flavor: The SEO Framework
# - none: Don't populate SEO meta fields
WORDPRESS_SEO_PLUGIN=none
